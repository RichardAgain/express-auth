<app-layout>
  <div class="container">
    <form class="form" [formGroup]="profileForm">
      <div class="container-group">
        <h3>Account</h3>

        <div class="input-group">
          <div class="formInput">
            <label for="username">Username</label>
            <input id="username" type="text" formControlName="username" 
              (input)="getEvents({ type: 'K' })"
              (focus)="getEvents({ type: 'P' })"
              (click)="getEvents({ type: 'B' })"
            />
          </div>

          <p>
            @for (action of actionList; track $index) {
              {{ action.type }}
            }
          </p>

          <div class="formInput">
            <label for="email">Email: </label>
            <input id="email" type="email" formControlName="email" />
          </div>
        </div>
      </div>

      <div class="container-group">
        <h3>Personal</h3>

        <div class="input-group">
          <div formGroupName="name">
            <div class="formInput">
              <label for="first">First Name</label>
              <input id="first" type="text" formControlName="first" />
            </div>

            <div class="formInput">
              <label for="last">Last Name</label>
              <input id="last" type="text" formControlName="last" />
            </div>

            <div class="formInput">
              <label for="phone">Phone: </label>
              <input id="phone" type="tel" formControlName="phone" />
            </div>
          </div>
        </div>
      </div>

      <div class="container-group">
        <h3>Location</h3>

        <div class="input-group">
          <app-leafet-map (getCoordinatesEvent)="getGeoInfo($event)" />

          <div formGroupName="location">
            <div formGroupName="street">
              <div class="formInput">
                <label for="name">Street</label>
                <input id="name" type="text" formControlName="name" />
              </div>
            </div>

            <div class="formInput">
              <label for="city">City</label>
              <input id="city" type="text" formControlName="city" />
            </div>

            <div class="formInput">
              <label for="state">State</label>
              <input id="state" type="text" formControlName="state" />
            </div>

            <div class="formInput">
              <label for="country">Country</label>
              <input id="country" type="text" formControlName="country" />
            </div>

            <div class="formInput">
              <label for="postcode">Postcode</label>
              <input id="postcode" type="text" formControlName="postcode" />
            </div>
          </div>
        </div>
      </div>

      <button class="submit" type="submit" [disabled]="!profileForm.valid">
        Submit
      </button>

      <p>
        @for (action of actionList; track $index) {
          {{ action.type }}
        }
      </p>

    </form>
  </div>
</app-layout>
